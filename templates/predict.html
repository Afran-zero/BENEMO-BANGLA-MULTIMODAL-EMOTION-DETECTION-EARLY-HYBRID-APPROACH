<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🔮 Prediction - BENEMO</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="/static/css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/js/script.js"></script>
  </head>
  <body>
    <nav class="sage-nav">
      <div class="nav-container">
        <div class="nav-brand">BENEMO</div>
        <ul>
          <li><a href="/">🏠 Home</a></li>
          <li><a href="/about">📖 About</a></li>
          <li><a href="/predict" class="active">🔮 Predict</a></li>
        </ul>
      </div>
    </nav>

    <div class="container sage-container">
      <div class="header-section">
        <h2>😁😔😲😡🤢😀</h2>
        <h1>Emotion Prediction</h1>
        <p class="subtitle">
          Upload audio <strong>or</strong> enter text to analyze emotions
        </p>
      </div>

      <div class="input-card">
        <div class="input-section">
          <div class="file-upload-area">
            <i class="fas fa-cloud-upload-alt upload-icon"></i>
            <label for="audio-upload" class="upload-label">
              <span class="bold">🎵 Upload Audio (WAV)</span>
              <span class="small-text">or drag & drop files here</span>
            </label>
            <input type="file" id="audio-upload" accept=".wav" />
          </div>

          <div class="text-input-area">
    <label for="text-input" class="input-label">✍️ Enter Bangla Text</label>
    <textarea id="text-input" placeholder="Type your Bangla text here to analyze emotions..." rows="4"></textarea>
    
    <!-- Loading spinner -->
    <div id="transcription-loader" class="loader-container" style="display: none;">
        <div class="spinner"></div>
        <span>Transcribing audio...</span>
    </div>
</div>

          <button id="predict-button" class="predict-btn">
            <i class="fas fa-magic"></i> Analyze Emotions
          </button>
        </div>
      </div>

      <div class="audio-card" id="audio-player-container" style="display: none">
        <h3>🎧 Audio Preview</h3>
        <audio id="audio-player" controls></audio>
      </div>

      <div class="results-card" id="results" style="display: none">
        <div class="results-header">
          <h3>📊 Prediction Results</h3>
          <div class="result-badge" id="emotion-badge"></div>
        </div>

        <div class="result-main">
          <div class="confidence-meter">
            <span class="confidence-label">Confidence:</span>
            <span class="confidence-value" id="confidence"></span>
            <div class="meter-bar">
              <div class="meter-fill" id="confidence-bar"></div>
            </div>
          </div>
          <div class="chart-container">
            <canvas id="emotion-chart"></canvas>
          </div>
        </div>

        <div class="model-comparison">
          <h4>🧠 Model Comparison</h4>
          <div class="model-results" id="model-comparison"></div>
        </div>
      </div>
    </div>

    <footer class="sage-footer">
      <p>🌿 Research project on custom Bangla multimodal emotion dataset</p>
    </footer>
  </body>
</html>
